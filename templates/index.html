{% extends "base.html" %}

{% block content %}
<div class="game-container">
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <div class="info-panel">
        <div class="user-info">
            <div class="balance">
                <span class="balance-label">–ë–∞–ª–∞–Ω—Å:</span>
                <span class="balance-amount" id="balance">{{ user.balance }}</span>
                <span class="currency">üí∞</span>
            </div>
            <div class="user-name">{{ user.username }}</div>
        </div>
        
        <div class="game-info">
            <div class="timer">
                <div class="timer-circle">
                    <span id="timer-text">25</span>
                </div>
                <div class="phase-text" id="phase-text">–î–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫–∏!</div>
            </div>
        </div>
    </div>

    <!-- –†—É–ª–µ—Ç–∫–∞ -->
    <div class="roulette-container">
        <div class="roulette-wheel-container">
            <div class="roulette-wheel" id="roulette-wheel">
                {% for i in range(15) %}
                    {% if i == 0 %}
                        <div class="sector green" data-color="green">0</div>
                    {% elif i <= 7 %}
                        <div class="sector red" data-color="red">{{ i }}</div>
                    {% else %}
                        <div class="sector black" data-color="black">{{ i }}</div>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="roulette-pointer"></div>
        </div>
    </div>

    <!-- –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–∞–¥–µ–Ω–∏–π -->
    <div class="history-container">
        <h3>–ò—Å—Ç–æ—Ä–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10)</h3>
        <div class="history-items" id="history-items">
            {% for item in history %}
                <div class="history-item {{ item.result }}">
                    <span class="history-color"></span>
                </div>
            {% endfor %}
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —Å—Ç–∞–≤–æ–∫ -->
    <div class="betting-panel">
        <div class="bet-input-container">
            <input type="number" id="bet-amount" placeholder="–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏" min="10" value="10">
            <div class="bet-buttons">
                <button class="bet-btn" onclick="setBetAmount('min')">MIN</button>
                <button class="bet-btn" onclick="setBetAmount('half')">1/2</button>
                <button class="bet-btn" onclick="setBetAmount('double')">2X</button>
                <button class="bet-btn" onclick="setBetAmount('max')">MAX</button>
            </div>
        </div>

        <div class="color-buttons">
            <button class="color-bet red" onclick="placeBet('red')">
                <span class="bet-label">–ö–†–ê–°–ù–û–ï</span>
                <span class="multiplier">x2</span>
            </button>
            <button class="color-bet black" onclick="placeBet('black')">
                <span class="bet-label">–ß–Å–†–ù–û–ï</span>
                <span class="multiplier">x2</span>
            </button>
            <button class="color-bet green" onclick="placeBet('green')">
                <span class="bet-label">–ó–ï–õ–Å–ù–û–ï</span>
                <span class="multiplier">x14</span>
            </button>
        </div>
    </div>

    <!-- –°—Ç–∞–≤–∫–∏ –∏–≥—Ä–æ–∫–æ–≤ -->
    <div class="players-bets">
        <h3>–°—Ç–∞–≤–∫–∏ –∏–≥—Ä–æ–∫–æ–≤</h3>
        <div class="bets-container" id="bets-container">
            <!-- –°—Ç–∞–≤–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
<div class="modal" id="win-modal">
    <div class="modal-content win">
        <h2>üéâ –í–´–ò–ì–†–´–®! üéâ</h2>
        <p id="win-text"></p>
        <button onclick="closeModal()" class="btn-close">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
</div>

<div class="modal" id="lose-modal">
    <div class="modal-content lose">
        <h2>üòî –ù–µ –ø–æ–≤–µ–∑–ª–æ</h2>
        <p id="lose-text"></p>
        <button onclick="closeModal()" class="btn-close">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
</div>
{% endblock %}
